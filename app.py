import streamlit as st

# 1. ‡∏¢‡πâ‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏°‡∏≤‡πÑ‡∏ß‡πâ‡∏ö‡∏ô‡∏™‡∏∏‡∏î
st.title("üí∞ ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Ñ‡∏ô‡∏à‡∏∞‡∏£‡∏ß‡∏¢")
mode = st.radio("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:", ["‡∏î‡∏π‡∏™‡∏£‡∏∏‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏ß‡∏°", "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£"]) 

# 2. ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
if 'logs' not in st.session_state:
    st.session_state.logs = []

# 3. ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
if mode == "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£":
    note = st.text_input("‡∏à‡∏î‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡πà‡∏≤‡∏Ç‡πâ‡∏≤‡∏ß, ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)")
    amount = st.number_input("‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô", min_value=0)
    col1, col2 = st.columns(2)
    if col1.button("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö ‚ûï"):
        st.session_state.logs.append({"‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£": note, "‡∏£‡∏±‡∏ö": amount, "‡∏à‡πà‡∏≤‡∏¢": 0})
    if col2.button("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢ ‚ûñ"):
        st.session_state.logs.append({"‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£": note, "‡∏£‡∏±‡∏ö": 0, "‡∏à‡πà‡∏≤‡∏¢": amount})

elif mode == "‡∏î‡∏π‡∏™‡∏£‡∏∏‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏ß‡∏°":
    if st.session_state.logs:
        import pandas as pd
        df = pd.DataFrame(st.session_state.logs)
        st.table(df)
        total = df['‡∏£‡∏±‡∏ö'].sum() - df['‡∏à‡πà‡∏≤‡∏¢'].sum()
        st.header(f"‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏™‡∏∏‡∏ó‡∏ò‡∏¥: {total:,.2f} ‡∏ö‡∏≤‡∏ó")
